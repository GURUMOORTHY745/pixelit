<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PIXELIT Gaming Club</title>
    <link rel="icon" type="image/png" href="FINAL comp.png">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@lottiefiles/lottie-player@1.0.0/dist/lottie-player.js"></script>
    <style>
        .fade-in {
            animation: fadeIn 1.5s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .error-message {
            color: red;
            font-weight: bold;
        }

        /* Add square image styling */
        .square-img {
            width: 120px; /* Slightly larger for better visibility */
            height: 120px; /* Slightly larger for better visibility */
            object-fit: cover; /* Ensures the image fills the square without distortion */
            border-radius: 12px; /* Rounded corners */
            margin: 0 auto 10px auto; /* Center the image and add spacing */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        /* Hover effect for images */
        .square-img:hover {
            transform: scale(1.1); /* Slightly enlarge the image on hover */
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3); /* Add a shadow on hover */
        }

        /* Gradient background for sections */
        .gradient-bg {
            background: linear-gradient(135deg, #1ebecdd2, #246783); /* Blue gradient */
        }

        /* Card hover effect */
        .card-hover {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card-hover:hover {
            transform: translateY(-5px); /* Lift the card on hover */
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); /* Add a shadow on hover */
        }

        /* Custom button styling */
        .custom-button {
            background: linear-gradient(135deg, #3b82f6, #1e3a8a);
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .custom-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body class="bg-gray-900 text-white">
    <!-- Smaller Header -->
    <header class="gradient-bg p-4 flex justify-between items-center shadow-lg">
        <h1 class="text-3xl font-bold text-white">PIXELIT Gaming Club</h1>
        <nav class="flex space-x-4">
            <a href="login.html" target="_blank" class="text-white hover:text-gray-300 text-base">Admin</a>
        </nav>
    </header>

    <main class="p-8">
        <!-- Error Message -->
        <div id="error-message" class="error-message text-center mb-6 hidden">
            Failed to load data. Please try again later.
        </div>

        <!-- Club Introduction -->
        <section id="club-intro" class="mb-12 text-center">
            <h2 class="text-3xl font-bold mb-6 text-white">Welcome to PIXELIT Gaming Club</h2>
            <p class="text-xl text-gray-300 max-w-2xl mx-auto">
                PIXELIT Gaming Club is a vibrant community of passionate gamers, developers, and creative minds. 
                We organize exciting gaming events, create innovative games, and foster collaboration among 
                gaming enthusiasts. Join us to explore the world of gaming and beyond!
            </p>
        </section>

        <!-- Coordinators Section -->
        <section id="coordinators" class="mb-12">
            <h2 class="text-3xl font-bold mb-8 text-center text-white">Meet Our Coordinators</h2>
            <div id="coordinators-cards" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        </section>

        <!-- Members Section -->
        <section id="members" class="mb-12">
            <h2 class="text-3xl font-bold mb-8 text-white">Members</h2>
            <div id="members-cards" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"></div>
        </section>

        <!-- Upcoming Events Section -->
        <section id="events" class="mb-12">
            <h2 class="text-3xl font-bold mb-8 text-white">Upcoming Events</h2>
            <div id="events-cards" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        </section>

        <!-- Games Section -->
        <section id="games" class="mb-12">
            <h2 class="text-3xl font-bold mb-8 text-white">Games By Club</h2>
            <div id="games-cards" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        </section>

        <!-- Contact Section -->
        <section id="contacts" class="mb-12">
            <h2 class="text-3xl font-bold mb-8 text-white">Contacts</h2>
            <div id="contacts-cards" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        </section>

        <!-- Query Form Section -->
        <section id="query-form" class="mb-12">
            <h2 class="text-3xl font-bold mb-8 text-white">Send Us an Enquiry</h2>
            <div class="gradient-bg rounded-lg shadow-lg p-8 fade-in">
                <form id="contact-form" class="mt-4">
                    <input type="text" name="name" placeholder="Your Name" class="w-full p-3 mb-4 rounded-lg bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-blue-500" required />
                    <input type="email" name="email" placeholder="Your Email" class="w-full p-3 mb-4 rounded-lg bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-blue-500" required />
                    <textarea name="message" rows="5" placeholder="Your Message" class="w-full p-3 mb-4 rounded-lg bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-blue-500" required></textarea>
                    <button type="submit" class="custom-button">Submit</button>
                </form>
            </div>
        </section>
    </main>
    <footer class="gradient-bg p-2 mt-12 text-center shadow-lg">
        <p class="mb-4 text-lg text-white">PIXELIT Gaming Club ¬©Guru 2025</p>
        <div class="flex justify-center space-x-6">
            <a href="https://facebook.com" target="_blank" aria-label="Facebook">
                <img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Facebook" class="w-8 h-8 hover:opacity-80 transition-opacity">
            </a>
            <a href="https://twitter.com" target="_blank" aria-label="Twitter">
                <img src="https://cdn-icons-png.flaticon.com/512/733/733579.png" alt="Twitter" class="w-8 h-8 hover:opacity-80 transition-opacity">
            </a>
            <a href="https://instagram.com" target="_blank" aria-label="Instagram">
                <img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" alt="Instagram" class="w-8 h-8 hover:opacity-80 transition-opacity">
            </a>
            <a href="https://linkedin.com" target="_blank" aria-label="LinkedIn">
                <img src="https://cdn-icons-png.flaticon.com/512/174/174857.png" alt="LinkedIn" class="w-8 h-8 hover:opacity-80 transition-opacity">
            </a>
        </div>
    </footer>

    <script>
        async function fetchData(endpoint, elementId) {
            try {
                const response = await fetch(`https://pixelit.onrender.com/api/${endpoint}`);
                if (!response.ok) throw new Error(`Failed to fetch ${endpoint}`);

                const data = await response.json();

                const container = document.getElementById(elementId);

                if (!data || data.length === 0) {
                    container.innerHTML = '<p class="text-gray-400">No data available.</p>';
                    return;
                }

                container.innerHTML = data.map(item => {
                    const imageUrl = item.photo ? `https://pixelit.onrender.com${item.photo}` : 'https://via.placeholder.com/120';

                    if (endpoint === 'contacts') {
                        return `
                            <div class="bg-gray-800 rounded-lg shadow-lg p-6 fade-in text-center card-hover">
                                <h3 class="text-xl font-bold">${item.name}</h3>
                                <p class="text-gray-300">üìß ${item.email}</p>
                                <p class="text-gray-300">üìû ${item.phone}</p>
                            </div>
                        `;
                    } else if (endpoint === 'coordinators') {
                        return `
                            <div class="bg-gray-800 rounded-lg shadow-lg p-6 fade-in text-center card-hover">
                                <a href="${imageUrl}" target="_blank">
                                    <img src="${imageUrl}" alt="${item.name}" class="square-img">
                                </a>
                                <h3 class="text-xl font-bold">${item.name}</h3>
                                <p class="text-gray-300">${item.department}</p>
                                <p class="text-gray-300">üìû ${item.phone}</p>
                                <p class="text-gray-300">üìß ${item.email}</p>
                            </div>
                        `;
                    } else if (endpoint === 'members') {
                        return `
                            <div class="bg-gray-800 rounded-lg shadow-lg p-6 fade-in text-center card-hover">
                                <a href="${imageUrl}" target="_blank">
                                    <img src="${imageUrl}" alt="${item.name}" class="square-img">
                                </a>
                                <h3 class="text-xl font-bold">${item.name}</h3>
                                <p class="text-gray-300">Role: ${item.role}</p>
                                <p class="text-gray-300">Reg. No: ${item.registrationNumber}</p>
                            </div>
                        `;
                    } else if (endpoint === 'upcomingEvents') {
                        return `
                            <div class="bg-gray-800 rounded-lg shadow-lg p-6 fade-in text-center card-hover">
                                <a href="${imageUrl}" target="_blank">
                                    <img src="${imageUrl}" alt="${item.title}" class="square-img">
                                </a>
                                <h3 class="text-xl font-bold">${item.title}</h3>
                                <p class="text-gray-300">üìÖ ${new Date(item.date).toLocaleDateString()}</p>
                                <p class="text-gray-300">üìç ${item.location}</p>
                                 ${item.link ? `<p><a href="${item.link}" class="text-blue-400 hover:underline" target="_blank">Register Now</a></p>` : ''}
                            </div>
                        `;
                    } else if (endpoint === 'clubGames') {
    return `
        <div class="bg-gray-800 rounded-lg shadow-lg p-6 fade-in text-center card-hover">
            <a href="${imageUrl}" target="_blank">
                <img src="${imageUrl}" alt="${item.title}" class="square-img">
            </a>
            <h3 class="text-xl font-bold">${item.title}</h3>
            <p class="text-gray-300">Genre: ${item.genre}</p>
            <p class="text-gray-300">Author: ${item.author}</p>
            ${item.link ? `<p><a href="${item.link}" class="text-blue-400 hover:underline" target="_blank">View</a></p>` : ''}
        </div>
                        `;
                    }
                }).join('');
            } catch (error) {
                console.error(`Error fetching data for ${endpoint}:`, error);
                document.getElementById('error-message').classList.remove('hidden');
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            fetchData('coordinators', 'coordinators-cards');
            fetchData('members', 'members-cards');
            fetchData('upcomingEvents', 'events-cards');
            fetchData('clubGames', 'games-cards');
            fetchData('contacts', 'contacts-cards');
        });
        document.getElementById('contact-form').addEventListener('submit', async function(event) {
        event.preventDefault();
        
        const formData = new FormData(this);
        const data = Object.fromEntries(formData.entries());

        try {
            const response = await fetch('https://pixelit.onrender.com/api/send-query', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            });

            const result = await response.json();
            alert(result.message);
            if (response.ok) this.reset();
        } catch (error) {
            console.error('Error:', error);
            alert('Failed to send query. Please try again.');
        }
    });
    </script>
</body>
</html>